<%- include('partials/header') %>
<body>
    <%- include('partials/nav.ejs') %>
    
    <h1>All Authors</h1>
    
    <a href="/author/new" class="add-new">+ Add New Author</a>
    
    <table>
        <thead>
            <tr>
                <th>ID</th>
                <th>First Name</th>
                <th>Last Name</th>
                <th>Date of Birth</th>
                <th>Actions</th>
            </tr>
        </thead>
        <tbody>
            <% authors.forEach(function(author) { %>
                <tr>
                    <td><%= author.authorId %></td>
                    <td><%= author.firstName %></td>
                    <td><%= author.lastName %></td>
                    <td><%= author.dobFormatted || 'N/A' %></td>
                    <td class="actions">
                        <a href="/author/edit?authorId=<%= author.authorId %>" class="edit">Edit</a>
                        <a href="/author/delete?authorId=<%= author.authorId %>" 
                           class="delete"
                           onclick="return confirm('Are you sure you want to delete this author?')">Delete</a> <!--https://www.w3schools.com/jsref/met_win_confirm.asp-->
                    </td>
                </tr>
            <% }); %>
        </tbody>
    </table>
    <%- include('partials/footer') %>
</body>
</html>